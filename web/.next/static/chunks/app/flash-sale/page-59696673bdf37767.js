(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{368:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1847:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:h,...x}=e;return(0,a.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:s,strokeWidth:c?24*Number(l)/Number(r):l,className:n("lucide",d),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{className:c,...d}=s;return(0,a.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...d})});return s.displayName=r(e),s}},2783:(e,t,s)=>{Promise.resolve().then(s.bind(s,4123))},4123:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),r=s(2115),n=s(368);let i=(0,s(1847).A)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var l=s(2619),c=s.n(l);function d(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[d,o]=(0,r.useState)({hours:0,minutes:0,seconds:0}),[h,x]=(0,r.useState)("default");(0,r.useEffect)(()=>{!async function(){try{l(!0);let e=await fetch("http://localhost:4000/api/flash-sales/active");if(e.ok){let s=await e.json();if(s.success&&s.data&&(t(s.data),s.data.length>0)){let e=new Date(s.data[0].end_time);m(e)}}}catch(e){console.error("Failed to fetch flash sales:",e)}finally{l(!1)}}()},[]);let m=e=>{let t=setInterval(()=>{let s=new Date().getTime(),a=e.getTime()-s;a<0?(clearInterval(t),o({hours:0,minutes:0,seconds:0})):o({hours:Math.floor(a%864e5/36e5),minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3)})},1e3);return()=>clearInterval(t)},g=[...e].sort((e,t)=>{switch(h){case"price-asc":return e.discounted_price-t.discounted_price;case"price-desc":return t.discounted_price-e.discounted_price;case"discount":return t.discount_percentage-e.discount_percentage;default:return 0}});return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-red-600",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(c(),{href:"/",className:"flex items-center gap-2 text-white hover:text-orange-100",children:[(0,a.jsx)(n.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Trang chủ"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("svg",{className:"w-8 h-8 text-yellow-300 animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M13 2L3 14h8l-1 8 10-12h-8l1-8z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white tracking-wide",children:"GIẢM GI\xc1 SỐC"}),(0,a.jsx)("p",{className:"text-orange-100 text-sm",children:"Ưu đ\xe3i c\xf3 hạn - Nhanh tay kẻo hết!"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"text-right mr-3",children:(0,a.jsx)("div",{className:"text-white text-xs font-medium",children:"KẾT TH\xdaC TRONG"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:String(d.hours).padStart(2,"0")}),(0,a.jsx)("div",{className:"text-[10px] text-orange-100 text-center",children:"Giờ"})]}),(0,a.jsx)("span",{className:"text-2xl text-white font-bold",children:":"}),(0,a.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:String(d.minutes).padStart(2,"0")}),(0,a.jsx)("div",{className:"text-[10px] text-orange-100 text-center",children:"Ph\xfat"})]}),(0,a.jsx)("span",{className:"text-2xl text-white font-bold",children:":"}),(0,a.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:String(d.seconds).padStart(2,"0")}),(0,a.jsx)("div",{className:"text-[10px] text-orange-100 text-center",children:"Gi\xe2y"})]})]})]})]})]})})}),(0,a.jsx)("div",{className:"bg-white border-b sticky top-0 z-10 shadow-sm",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i,{className:"w-5 h-5 text-gray-600"}),(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:"Sắp xếp theo:"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>x("default"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("default"===h?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Mặc định"}),(0,a.jsx)("button",{onClick:()=>x("discount"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("discount"===h?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Giảm nhiều nhất"}),(0,a.jsx)("button",{onClick:()=>x("price-asc"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("price-asc"===h?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Gi\xe1 thấp đến cao"}),(0,a.jsx)("button",{onClick:()=>x("price-desc"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors ".concat("price-desc"===h?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Gi\xe1 cao đến thấp"})]})]}),(0,a.jsxs)("div",{className:"text-gray-600",children:[(0,a.jsx)("span",{className:"font-semibold text-orange-600",children:e.length})," sản phẩm đang giảm gi\xe1"]})]})})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:s?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-orange-500 border-t-transparent"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Đang tải sản phẩm..."})]})}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("svg",{className:"w-24 h-24 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Chưa c\xf3 sản phẩm giảm gi\xe1"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Vui l\xf2ng quay lại sau để kh\xf4ng bỏ lỡ c\xe1c ưu đ\xe3i hấp dẫn!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:g.map((e,t)=>(0,a.jsxs)(c(),{href:"/products/".concat(e.product_id),className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group border border-gray-100",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden bg-gray-50",children:[(0,a.jsx)("img",{src:e.product_thumbnail||"/images/products/placeholder.jpg",alt:e.product_name,className:"w-full aspect-square object-cover group-hover:scale-110 transition-transform duration-300",onError:e=>{e.target.src="/images/products/placeholder.jpg"}}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-lg shadow-lg",children:["-",e.discount_percentage,"%"]})]}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h3",{className:"text-sm text-gray-800 line-clamp-2 mb-2 h-10 group-hover:text-orange-600 transition-colors",children:e.product_name}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"flex items-baseline gap-2",children:(0,a.jsxs)("span",{className:"text-orange-600 text-lg font-bold",children:[e.discounted_price.toLocaleString("vi-VN"),"₫"]})}),(0,a.jsxs)("div",{className:"text-gray-400 text-sm line-through",children:[e.product_price.toLocaleString("vi-VN"),"₫"]})]}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("div",{className:"bg-gray-200 rounded-full overflow-hidden h-5",children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 h-full flex items-center justify-center text-[10px] text-white font-bold",style:{width:"".concat(Math.min(100*Math.random(),95),"%")},children:["Đ\xc3 B\xc1N ",Math.floor(100*Math.random())]})})})]})]},"".concat(e.product_id,"-").concat(t)))}),(0,a.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-orange-500 to-red-600 rounded-lg p-6 text-white text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\uD83D\uDD25 DEAL SỐC TRONG NG\xc0Y \uD83D\uDD25"}),(0,a.jsx)("p",{className:"text-orange-100",children:"Miễn ph\xed vận chuyển cho đơn h\xe0ng từ 500.000₫ • Giảm th\xeam 100.000₫ cho đơn từ 2.000.000₫"})]})]})})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=2783)),_N_E=e.O()}]);