(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{512:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1761:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1847:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(2115);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:l,height:l,stroke:a,strokeWidth:i?24*Number(d)/Number(l):d,className:s("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:i,...o}=a;return(0,r.createElement)(d,{ref:n,iconNode:t,className:s("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...o})});return a.displayName=l(e),a}},6220:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var r=a(5155),l=a(2115),s=a(6617),n=a(6254),d=a(512),i=a(1761),o=a(9715),c=a(2619),h=a.n(c);function m(){let[e,t]=(0,l.useState)({totalProducts:0,totalCategories:0,totalOrders:0,totalRevenue:0,recentOrders:[],topProducts:[]}),[a,c]=(0,l.useState)(!0);(0,l.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=localStorage.getItem("accessToken"),a=await fetch("http://localhost:4000/api/admin/dashboard/stats",{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();t(e.data)}}catch(e){console.error("Error fetching stats:",e)}finally{c(!1)}},x=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),g=[{icon:s.A,label:"Tổng Sản phẩm",value:e.totalProducts,color:"bg-blue-500",iconColor:"text-blue-500",link:"/admin/products"},{icon:n.A,label:"Danh mục",value:e.totalCategories,color:"bg-green-500",iconColor:"text-green-500",link:"/admin/categories"},{icon:d.A,label:"Đơn h\xe0ng",value:e.totalOrders,color:"bg-purple-500",iconColor:"text-purple-500",link:"/admin/orders"},{icon:i.A,label:"Doanh thu",value:x(e.totalRevenue),color:"bg-orange-500",iconColor:"text-orange-500",link:void 0}];return a?(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Đang tải dữ liệu..."})]})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Tổng quan hệ thống quản l\xfd"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:g.map((e,t)=>(0,r.jsx)("div",{children:e.link?(0,r.jsx)(h(),{href:e.link,className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer block",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg bg-opacity-10 ".concat(e.color),children:(0,r.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.iconColor)})})]})}):(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),(0,r.jsx)("div",{className:"p-3 rounded-lg bg-opacity-10 ".concat(e.color),children:(0,r.jsx)(e.icon,{className:"w-6 h-6 ".concat(e.iconColor)})})]})})},t))}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Đơn h\xe0ng gần đ\xe2y"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"M\xe3 đơn"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Kh\xe1ch h\xe0ng"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Tổng tiền"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Trạng th\xe1i"}),(0,r.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Thời gian"})]})}),(0,r.jsx)("tbody",{children:e.recentOrders.map(e=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"py-3 px-4 text-sm",children:["#",e.id]}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.user_name}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm font-semibold",children:x(e.total_amount)}),(0,r.jsx)("td",{className:"py-3 px-4",children:(e=>{let t={pending:{label:"Chờ xử l\xfd",color:"bg-yellow-100 text-yellow-800"},paid:{label:"Đ\xe3 thanh to\xe1n",color:"bg-blue-100 text-blue-800"},shipped:{label:"Đang giao",color:"bg-purple-100 text-purple-800"},completed:{label:"Ho\xe0n th\xe0nh",color:"bg-green-100 text-green-800"},cancelled:{label:"Đ\xe3 hủy",color:"bg-red-100 text-red-800"}},a=t[e]||t.pending;return(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(a.color),children:a.label})})(e.status)}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},e.id))})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Sản phẩm b\xe1n chạy"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.topProducts.map((e,t)=>{var a,l,n,d;return(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:shadow-md transition-shadow",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:e.thumbnail_url||(null==(l=e.images)||null==(a=l.find(e=>e.is_primary))?void 0:a.image_url)?(0,r.jsx)("img",{src:e.thumbnail_url||(null==(d=e.images)||null==(n=d.find(e=>e.is_primary))?void 0:n.image_url),alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,r.jsx)(s.A,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 text-sm line-clamp-2",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Đ\xe3 b\xe1n: ",(0,r.jsx)("span",{className:"font-bold text-primary-600",children:e.total_sold})]})]})]},e.id)})})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Thao t\xe1c nhanh"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)(h(),{href:"/admin/products",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-600 hover:bg-primary-50 transition-colors text-left",children:[(0,r.jsx)(s.A,{className:"w-8 h-8 text-primary-600 mb-2"}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Quản l\xfd Sản phẩm"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Th\xeam, sửa, x\xf3a sản phẩm"})]}),(0,r.jsxs)(h(),{href:"/admin/orders",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-600 hover:bg-primary-50 transition-colors text-left",children:[(0,r.jsx)(d.A,{className:"w-8 h-8 text-primary-600 mb-2"}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Quản l\xfd Đơn h\xe0ng"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Xem v\xe0 cập nhật đơn h\xe0ng"})]}),(0,r.jsxs)(h(),{href:"/admin/blogs",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-600 hover:bg-primary-50 transition-colors text-left",children:[(0,r.jsx)(o.A,{className:"w-8 h-8 text-primary-600 mb-2"}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"Quản l\xfd Blog"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Viết v\xe0 quản l\xfd b\xe0i viết"})]})]})]})]})}},6254:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("folder-tree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]])},6617:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},8006:(e,t,a)=>{Promise.resolve().then(a.bind(a,6220))},9715:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=8006)),_N_E=e.O()}]);