(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{228:(e,t,a)=>{"use strict";function r(e){return Math.round("string"==typeof e?parseFloat(e):e).toLocaleString("vi-VN")+"₫"}a.d(t,{$:()=>r})},1010:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1238:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var r=a(5155),s=a(2115),i=a(228),c=a(6191);let n=(0,a(1847).A)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var l=a(1761),d=a(1010),o=a(1360);function h(){let[e,t]=(0,s.useState)([]),[a,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=localStorage.getItem("token"),a=await fetch("http://localhost:4000/api/admin/coupons",{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();t(e)}}catch(e){console.error("Error fetching coupons:",e)}finally{h(!1)}},m=async e=>{if(confirm("Bạn c\xf3 chắc chắn muốn x\xf3a m\xe3 giảm gi\xe1 n\xe0y?"))try{let t=localStorage.getItem("token");(await fetch("http://localhost:4000/api/admin/coupons/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok&&(alert("X\xf3a m\xe3 giảm gi\xe1 th\xe0nh c\xf4ng"),x())}catch(e){console.error("Error deleting coupon:",e),alert("C\xf3 lỗi xảy ra")}};return a?(0,r.jsx)("div",{className:"text-center py-12",children:"Đang tải..."}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản l\xfd M\xe3 giảm gi\xe1"}),(0,r.jsxs)("button",{className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[(0,r.jsx)(c.A,{className:"w-5 h-5"}),"Th\xeam m\xe3 giảm gi\xe1"]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M\xe3"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giảm gi\xe1"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Điều kiện"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sử dụng"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thời hạn"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng th\xe1i"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao t\xe1c"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 text-sm font-bold rounded",children:e.code})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"flex items-center text-sm",children:"percentage"===e.discount_type?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{className:"w-4 h-4 mr-1 text-green-600"}),(0,r.jsxs)("span",{className:"font-semibold",children:[e.discount_value,"%"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{className:"w-4 h-4 mr-1 text-green-600"}),(0,r.jsx)("span",{className:"font-semibold",children:(0,i.$)(e.discount_value)})]})})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Đơn tối thiểu: ",(0,i.$)(e.min_order_value)]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[e.used_count,"/",e.usage_limit||"∞"]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[new Date(e.start_date).toLocaleDateString("vi-VN")," -"," ",new Date(e.end_date).toLocaleDateString("vi-VN")]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"K\xedch hoạt":"V\xf4 hiệu"})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,r.jsx)("button",{className:"text-primary-600 hover:text-primary-900 mr-3",children:(0,r.jsx)(d.A,{className:"w-5 h-5"})}),(0,r.jsx)("button",{onClick:()=>m(e.id),className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(o.A,{className:"w-5 h-5"})})]})]},e.id))})]})})]})}},1360:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1761:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},1801:(e,t,a)=>{Promise.resolve().then(a.bind(a,1238))},1847:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:d="",children:o,iconNode:h,...x}=e;return(0,r.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:a,strokeWidth:l?24*Number(n)/Number(s):n,className:i("lucide",d),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),l=(e,t)=>{let a=(0,r.forwardRef)((a,c)=>{let{className:l,...d}=a;return(0,r.createElement)(n,{ref:c,iconNode:t,className:i("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...d})});return a.displayName=s(e),a}},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},e=>{e.O(0,[441,255,358],()=>e(e.s=1801)),_N_E=e.O()}]);