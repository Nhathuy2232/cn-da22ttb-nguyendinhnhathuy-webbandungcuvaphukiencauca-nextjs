exports.id=273,exports.ids=[273],exports.modules={508:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},17578:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\XAMPP\\htdocs\\DOAN_CN_E-COMMERCE\\web\\src\\hooks\\useAuth.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\XAMPP\\htdocs\\DOAN_CN_E-COMMERCE\\web\\src\\hooks\\useAuth.tsx","useAuth")},18586:(a,b,c)=>{Promise.resolve().then(c.bind(c,98400))},19710:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},23339:(a,b,c)=>{"use strict";c.d(b,{A:()=>i});var d=c(38301);let e=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},f=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,d.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:e,className:h="",children:i,iconNode:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...g,width:b,height:b,stroke:a,strokeWidth:e?24*Number(c)/Number(b):c,className:f("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(i)?i:[i]])),i=(a,b)=>{let c=(0,d.forwardRef)(({className:c,...g},i)=>(0,d.createElement)(h,{ref:i,iconNode:b,className:f(`lucide-${e(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...g}));return c.displayName=e(a),c}},42378:(a,b,c)=>{"use strict";var d=c(91330);c.o(d,"useParams")&&c.d(b,{useParams:function(){return d.useParams}}),c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}})},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>f,viewport:()=>g});var d=c(75338);c(61135);var e=c(17578);let f={title:"Cần Thủ Shop | Dụng Cụ & Phụ Kiện C\xe2u C\xe1 Chất Lượng Cao",description:"Chuy\xean cung cấp cần c\xe2u, m\xe1y c\xe2u, d\xe2y cước, mồi c\xe2u v\xe0 phụ kiện c\xe2u c\xe1 ch\xednh h\xe3ng. Giao h\xe0ng to\xe0n quốc, thanh to\xe1n linh hoạt.",metadataBase:new URL("https://example.com")},g={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1};function h({children:a}){return(0,d.jsx)("html",{lang:"vi",children:(0,d.jsx)("body",{className:"bg-gray-100 text-gray-900 antialiased",children:(0,d.jsx)(e.AuthProvider,{children:a})})})}},55934:(a,b,c)=>{"use strict";c.d(b,{Header:()=>o});var d=c(21124),e=c(88285),f=c(58368);let g=(0,c(23339).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var h=c(19710),i=c(3991),j=c.n(i),k=c(98400),l=c(90080),m=c(38301),n=c(42378);function o(){let{user:a,isAuthenticated:b,logout:c}=(0,k.A)(),{cart:i}=(0,l._)(),o=(0,n.useRouter)(),[p,q]=(0,m.useState)(""),r=async()=>{await c()},s=i?.items?.length||0;return(0,d.jsx)("header",{className:"bg-primary-600 text-white shadow-md",children:(0,d.jsx)("div",{className:"container mx-auto px-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between gap-8 py-4",children:[(0,d.jsx)(j(),{href:"/",className:"flex-shrink-0",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("svg",{className:"w-10 h-10",viewBox:"0 0 64 64",fill:"white",children:[(0,d.jsx)("path",{d:"M32 8C18.7 8 8 18.7 8 32s10.7 24 24 24 24-10.7 24-24S45.3 8 32 8zm0 4c11.1 0 20 8.9 20 20s-8.9 20-20 20-20-8.9-20-20S20.9 12 32 12z"}),(0,d.jsx)("path",{d:"M28 22v20l16-10z",fill:"#f97316"})]}),(0,d.jsx)("span",{className:"text-2xl font-bold",children:"Cần Thủ Shop"})]})}),(0,d.jsx)("div",{className:"flex-1 max-w-xl",children:(0,d.jsxs)("form",{onSubmit:a=>{a.preventDefault(),p.trim()&&o.push(`/products?search=${encodeURIComponent(p.trim())}`)},className:"relative",children:[(0,d.jsx)("input",{type:"text",placeholder:"T\xecm cần c\xe2u, m\xe1y c\xe2u, mồi c\xe2u...",value:p,onChange:a=>q(a.target.value),className:"w-full rounded px-4 py-2.5 pr-12 text-gray-700 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-300"}),(0,d.jsx)("button",{type:"submit",className:"absolute right-0 top-0 h-full bg-orange-500 px-5 hover:bg-orange-600 rounded-r transition-colors",children:(0,d.jsx)(e.A,{className:"w-5 h-5"})})]})}),(0,d.jsxs)("nav",{className:"flex items-center gap-6",children:[(0,d.jsx)(j(),{href:"/",className:"text-white hover:text-orange-300 transition-colors font-medium",children:"Trang chủ"}),(0,d.jsx)(j(),{href:"/products",className:"text-white hover:text-orange-300 transition-colors font-medium",children:"Sản phẩm"}),(0,d.jsx)(j(),{href:"/about",className:"text-white hover:text-orange-300 transition-colors font-medium",children:"Giới thiệu"}),(0,d.jsx)(j(),{href:"/blogs",className:"text-white hover:text-orange-300 transition-colors font-medium",children:"Blog"}),b&&a?.role==="admin"&&(0,d.jsx)(j(),{href:"/admin/dashboard",className:"text-orange-300 hover:text-white transition-colors font-bold border border-orange-300 px-3 py-1 rounded",children:"Dashboard"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-6 flex-shrink-0",children:[(0,d.jsx)(j(),{href:"/cart",className:"hover:text-orange-100 transition-colors",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(f.A,{className:"w-7 h-7"}),(0,d.jsx)("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-white text-xs text-primary-600 font-semibold",children:s})]})}),b&&a?(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsxs)(j(),{href:"/profile",className:"hover:text-orange-100 transition-colors flex items-center gap-2",children:[(0,d.jsx)(g,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"text-sm whitespace-nowrap",children:a.fullName||a.email})]}),(0,d.jsx)("button",{onClick:r,className:"hover:text-orange-100 transition-colors flex items-center gap-2",title:"Đăng xuất",children:(0,d.jsx)(h.A,{className:"w-5 h-5"})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(j(),{href:"/login",className:"hover:text-orange-100 transition-colors text-sm whitespace-nowrap",children:"Đăng nhập"}),(0,d.jsx)(j(),{href:"/register",className:"hover:text-orange-100 transition-colors text-sm whitespace-nowrap",children:"Đăng k\xfd"})]})]})]})})})}},58368:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},61135:()=>{},71730:(a,b,c)=>{Promise.resolve().then(c.bind(c,17578))},78352:(a,b,c)=>{"use strict";c.d(b,{u:()=>f});let d=process.env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api";class e{constructor(a){this.baseUrl=a}getAuthToken(){return null}async request(a,b={}){let{requiresAuth:c=!1,headers:d={},...e}=b,f={"Content-Type":"application/json",...d};if(c){let a=this.getAuthToken();a&&(f.Authorization=`Bearer ${a}`)}let g=await fetch(`${this.baseUrl}${a}`,{...e,headers:f});if(!g.ok){let a=await g.json().catch(()=>({success:!1,message:"An error occurred"}));throw g.status,Error(a.message||`HTTP ${g.status}`)}return g.json()}async register(a){return this.request("/auth/register",{method:"POST",body:JSON.stringify(a)})}async login(a){let b=await this.request("/auth/login",{method:"POST",body:JSON.stringify(a)});return b.data?.accessToken&&localStorage.setItem("accessToken",b.data.accessToken),b}async logout(){let a=await this.request("/auth/logout",{method:"POST",requiresAuth:!0});return localStorage.removeItem("accessToken"),a}async getMe(){return this.request("/auth/me",{requiresAuth:!0})}async getProducts(a){let b=new URLSearchParams;a?.search&&b.set("search",a.search),a?.category&&b.set("category",a.category),a?.page&&b.set("page",a.page.toString()),a?.limit&&b.set("limit",a.limit.toString());let c=b.toString();return this.request(`/products${c?`?${c}`:""}`)}async getProduct(a){return this.request(`/products/${a}`)}async getCategories(){return this.request("/categories")}async getCategory(a){return this.request(`/categories/${a}`)}async getCart(){return this.request("/cart",{requiresAuth:!0})}async addToCart(a){return this.request("/cart",{method:"POST",body:JSON.stringify(a),requiresAuth:!0})}async updateCartItem(a,b){return this.request("/cart",{method:"PUT",body:JSON.stringify({product_id:a,quantity:b}),requiresAuth:!0})}async removeCartItem(a){return this.request(`/cart/${a}`,{method:"DELETE",requiresAuth:!0})}async clearCart(){return this.request("/cart",{method:"DELETE",requiresAuth:!0})}async createOrder(a){return this.request("/orders",{method:"POST",body:JSON.stringify(a),requiresAuth:!0})}async getOrders(){return this.request("/orders",{requiresAuth:!0})}async getOrder(a){return this.request(`/orders/${a}`,{requiresAuth:!0})}}let f=new e(d)},88285:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},90080:(a,b,c)=>{"use strict";c.d(b,{_:()=>f});var d=c(38301),e=c(78352);function f(){let[a,b]=(0,d.useState)(null),[c,f]=(0,d.useState)(!0),[g,h]=(0,d.useState)(null),i=(0,d.useCallback)(async()=>{try{f(!0);let a=await e.u.getCart();b(a.data)}catch(a){h(a instanceof Error?a.message:"Failed to fetch cart")}finally{f(!1)}},[]);return{cart:a,loading:c,error:g,addItem:async(a,b=1)=>{try{let c=await e.u.addToCart({product_id:a,quantity:b});return c.success&&await i(),c}catch(a){throw a}},updateItem:async(a,b)=>{try{let c=await e.u.updateCartItem(a,b);return c.success&&await i(),c}catch(a){throw a}},removeItem:async a=>{try{let b=await e.u.removeCartItem(a);return b.success&&await i(),b}catch(a){throw a}},clearCart:async()=>{try{let a=await e.u.clearCart();return a.success&&await i(),a}catch(a){throw a}},refresh:i}}},90780:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},98400:(a,b,c)=>{"use strict";c.d(b,{A:()=>i,AuthProvider:()=>h});var d=c(21124),e=c(38301),f=c(78352);let g=(0,e.createContext)(void 0);function h({children:a}){let[b,c]=(0,e.useState)(null),[h,i]=(0,e.useState)(!0),j=async(a,b)=>{try{let d=await f.u.login({email:a,password:b});d.success&&c(d.data.user)}catch(a){throw a}},k=async(a,b,d)=>{try{let e=await f.u.register({full_name:a,email:b,password:d});e.success&&c(e.data.user)}catch(a){throw a}},l=async()=>{try{await f.u.logout()}catch(a){console.error("Logout error:",a)}finally{c(null),localStorage.removeItem("accessToken")}};return(0,d.jsx)(g.Provider,{value:{user:b,loading:h,login:j,register:k,logout:l,isAuthenticated:!!b},children:a})}function i(){let a=(0,e.useContext)(g);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}}};