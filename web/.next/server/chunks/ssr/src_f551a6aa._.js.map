{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/XAMPP/htdocs/DUAN_TEST/web/src/hooks/useCart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { apiClient } from '@/lib/api-client';\r\n\r\nexport function useCart() {\r\n  const [cart, setCart] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchCart = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await apiClient.getCart() as any;\r\n      setCart(response.data);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to fetch cart');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchCart();\r\n  }, [fetchCart]);\r\n\r\n  const addItem = async (productId: number, quantity: number = 1) => {\r\n    try {\r\n      const response = await apiClient.addToCart({\r\n        product_id: productId,\r\n        quantity,\r\n      }) as any;\r\n      if (response.success) {\r\n        await fetchCart();\r\n      }\r\n      return response;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const updateItem = async (productId: number, quantity: number) => {\r\n    try {\r\n      const response = await apiClient.updateCartItem(productId, quantity) as any;\r\n      if (response.success) {\r\n        await fetchCart();\r\n      }\r\n      return response;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const removeItem = async (itemId: number) => {\r\n    try {\r\n      const response = await apiClient.removeCartItem(itemId) as any;\r\n      if (response.success) {\r\n        await fetchCart();\r\n      }\r\n      return response;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const clearCart = async () => {\r\n    try {\r\n      const response = await apiClient.clearCart() as any;\r\n      if (response.success) {\r\n        await fetchCart();\r\n      }\r\n      return response;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  return {\r\n    cart,\r\n    loading,\r\n    error,\r\n    addItem,\r\n    updateItem,\r\n    removeItem,\r\n    clearCart,\r\n    refresh: fetchCart,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKO,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,YAAY,IAAA,oNAAW,EAAC;QAC5B,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,wIAAS,CAAC,OAAO;YACxC,QAAQ,SAAS,IAAI;QACvB,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,UAAU,OAAO,WAAmB,WAAmB,CAAC;QAC5D,IAAI;YACF,MAAM,WAAW,MAAM,wIAAS,CAAC,SAAS,CAAC;gBACzC,YAAY;gBACZ;YACF;YACA,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM;YACR;YACA,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,MAAM;QACR;IACF;IAEA,MAAM,aAAa,OAAO,WAAmB;QAC3C,IAAI;YACF,MAAM,WAAW,MAAM,wIAAS,CAAC,cAAc,CAAC,WAAW;YAC3D,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM;YACR;YACA,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,MAAM;QACR;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,MAAM,WAAW,MAAM,wIAAS,CAAC,cAAc,CAAC;YAChD,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM;YACR;YACA,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,MAAM;QACR;IACF;IAEA,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,WAAW,MAAM,wIAAS,CAAC,SAAS;YAC1C,IAAI,SAAS,OAAO,EAAE;gBACpB,MAAM;YACR;YACA,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,MAAM;QACR;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA,SAAS;IACX;AACF","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///D:/XAMPP/htdocs/DUAN_TEST/web/src/components/ReviewSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\n\r\ninterface Review {\r\n  id: number;\r\n  user_name: string;\r\n  rating: number;\r\n  comment: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface ReviewStats {\r\n  average_rating: number;\r\n  total_reviews: number;\r\n  rating_1: number;\r\n  rating_2: number;\r\n  rating_3: number;\r\n  rating_4: number;\r\n  rating_5: number;\r\n}\r\n\r\nexport default function ReviewSection({ productId }: { productId: number }) {\r\n  const { user } = useAuth();\r\n  const [reviews, setReviews] = useState<Review[]>([]);\r\n  const [stats, setStats] = useState<ReviewStats | null>(null);\r\n  const [userReview, setUserReview] = useState<Review | null>(null);\r\n  const [showReviewForm, setShowReviewForm] = useState(false);\r\n  const [rating, setRating] = useState(5);\r\n  const [comment, setComment] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadReviews();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productId]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadUserReview();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productId, user]);\r\n\r\n  const loadReviews = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/reviews/product/${productId}`);\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setReviews(data.data.reviews);\r\n        setStats(data.data.stats);\r\n      }\r\n    } catch (error) {\r\n      console.error('L·ªói t·∫£i ƒë√°nh gi√°:', error);\r\n    }\r\n  };\r\n\r\n  const loadUserReview = async () => {\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch(`http://localhost:4000/api/reviews/my-review/${productId}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n      const data = await response.json();\r\n      if (data.success && data.data) {\r\n        setUserReview(data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('L·ªói t·∫£i ƒë√°nh gi√° c·ªßa t√¥i:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmitReview = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!user) {\r\n      alert('Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ ƒë√°nh gi√°');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const response = await fetch('http://localhost:4000/api/reviews', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          product_id: productId,\r\n          rating,\r\n          comment,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        alert('ƒê√°nh gi√° th√†nh c√¥ng!');\r\n        setShowReviewForm(false);\r\n        setComment('');\r\n        setRating(5);\r\n        loadReviews();\r\n        loadUserReview();\r\n      } else {\r\n        alert(data.message || 'C√≥ l·ªói x·∫£y ra');\r\n      }\r\n    } catch (error) {\r\n      console.error('L·ªói g·ª≠i ƒë√°nh gi√°:', error);\r\n      alert('C√≥ l·ªói x·∫£y ra');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderStars = (rating: number, interactive = false, onRate?: (r: number) => void) => {\r\n    return (\r\n      <div className=\"flex gap-1\">\r\n        {[1, 2, 3, 4, 5].map((star) => (\r\n          <button\r\n            key={star}\r\n            type=\"button\"\r\n            onClick={() => onRate && onRate(star)}\r\n            disabled={!interactive}\r\n            className={`text-2xl ${interactive ? 'cursor-pointer hover:scale-110 transition-transform' : ''} ${\r\n              star <= rating ? 'text-yellow-400' : 'text-gray-300'\r\n            }`}\r\n          >\r\n            ‚òÖ\r\n          </button>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getRatingPercentage = (count: number) => {\r\n    if (!stats || stats.total_reviews === 0) return 0;\r\n    return (count / stats.total_reviews) * 100;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold mb-6\">ƒê√°nh gi√° s·∫£n ph·∫©m</h2>\r\n\r\n      {/* Rating Overview */}\r\n      {stats && (\r\n        <div className=\"grid md:grid-cols-2 gap-8 mb-8 pb-8 border-b\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-5xl font-bold mb-2\">{Number(stats.average_rating || 0).toFixed(1)}</div>\r\n            <div className=\"flex justify-center mb-2\">{renderStars(Math.round(Number(stats.average_rating || 0)))}</div>\r\n            <div className=\"text-gray-600\">{stats.total_reviews} ƒë√°nh gi√°</div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            {[5, 4, 3, 2, 1].map((star) => (\r\n              <div key={star} className=\"flex items-center gap-3\">\r\n                <span className=\"text-sm w-12\">{star} sao</span>\r\n                <div className=\"flex-1 bg-gray-200 rounded-full h-3\">\r\n                  <div\r\n                    className=\"bg-yellow-400 h-3 rounded-full transition-all\"\r\n                    style={{\r\n                      width: `${getRatingPercentage((stats as any)[`rating_${star}`])}%`,\r\n                    }}\r\n                  ></div>\r\n                </div>\r\n                <span className=\"text-sm w-12 text-right\">\r\n                  {(stats as any)[`rating_${star}`]}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* User Review Form */}\r\n      {user && !userReview && !showReviewForm && (\r\n        <button\r\n          onClick={() => setShowReviewForm(true)}\r\n          className=\"mb-6 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n        >\r\n          Vi·∫øt ƒë√°nh gi√°\r\n        </button>\r\n      )}\r\n\r\n      {showReviewForm && (\r\n        <form onSubmit={handleSubmitReview} className=\"mb-8 p-6 bg-gray-50 rounded-lg\">\r\n          <h3 className=\"font-semibold mb-4\">ƒê√°nh gi√° c·ªßa b·∫°n</h3>\r\n\r\n          <div className=\"mb-4\">\r\n            <label className=\"block mb-2 font-medium\">Ch·∫•t l∆∞·ª£ng s·∫£n ph·∫©m</label>\r\n            {renderStars(rating, true, setRating)}\r\n          </div>\r\n\r\n          <div className=\"mb-4\">\r\n            <label className=\"block mb-2 font-medium\">Nh·∫≠n x√©t</label>\r\n            <textarea\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n              className=\"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              rows={4}\r\n              placeholder=\"Chia s·∫ª tr·∫£i nghi·ªám c·ªßa b·∫°n v·ªÅ s·∫£n ph·∫©m...\"\r\n              required\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors\"\r\n            >\r\n              {loading ? 'ƒêang g·ª≠i...' : 'G·ª≠i ƒë√°nh gi√°'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowReviewForm(false)}\r\n              className=\"px-6 py-2 border rounded-lg hover:bg-gray-100 transition-colors\"\r\n            >\r\n              H·ªßy\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      {/* User's Review */}\r\n      {userReview && (\r\n        <div className=\"mb-8 p-6 bg-blue-50 border-l-4 border-blue-600 rounded\">\r\n          <div className=\"flex justify-between items-start mb-2\">\r\n            <h3 className=\"font-semibold\">ƒê√°nh gi√° c·ªßa b·∫°n</h3>\r\n            <span className=\"text-sm text-gray-600\">\r\n              {new Date(userReview.created_at).toLocaleDateString('vi-VN')}\r\n            </span>\r\n          </div>\r\n          {renderStars(userReview.rating)}\r\n          <p className=\"mt-3 text-gray-700\">{userReview.comment}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Reviews List */}\r\n      <div className=\"space-y-6\">\r\n        <h3 className=\"font-semibold text-lg\">T·∫•t c·∫£ ƒë√°nh gi√°</h3>\r\n        {reviews.length === 0 ? (\r\n          <p className=\"text-gray-500 text-center py-8\">Ch∆∞a c√≥ ƒë√°nh gi√° n√†o</p>\r\n        ) : (\r\n          reviews.map((review) => (\r\n            <div key={review.id} className=\"border-b pb-6\">\r\n              <div className=\"flex justify-between items-start mb-2\">\r\n                <div>\r\n                  <div className=\"font-semibold\">{review.user_name}</div>\r\n                  {renderStars(review.rating)}\r\n                </div>\r\n                <span className=\"text-sm text-gray-600\">\r\n                  {new Date(review.created_at).toLocaleDateString('vi-VN')}\r\n                </span>\r\n              </div>\r\n              <p className=\"mt-3 text-gray-700\">{review.comment}</p>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///D:/XAMPP/htdocs/DUAN_TEST/web/src/components/RelatedProducts.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\ninterface Product {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  thumbnail_url: string;\r\n  stock_quantity: number;\r\n  category_id: number;\r\n}\r\n\r\nexport default function RelatedProducts({ productId, categoryId }: { productId: number; categoryId: number }) {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadRelatedProducts();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [categoryId]);\r\n\r\n  const loadRelatedProducts = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/products?category=${categoryId}&limit=4`);\r\n      const data = await response.json();\r\n      if (data.success && data.data) {\r\n        // Ki·ªÉm tra c·∫•u tr√∫c response - c√≥ th·ªÉ l√† data.data.products ho·∫∑c data.data\r\n        const productList = data.data.products || data.data || [];\r\n        // L·ªçc b·ªè s·∫£n ph·∫©m hi·ªán t·∫°i\r\n        const filtered = productList.filter((p: Product) => p.id !== productId);\r\n        setProducts(filtered.slice(0, 4));\r\n      }\r\n    } catch (error) {\r\n      console.error('L·ªói t·∫£i s·∫£n ph·∫©m li√™n quan:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"mt-12\">\r\n        <h2 className=\"text-2xl font-bold mb-6\">S·∫£n ph·∫©m li√™n quan</h2>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\r\n          {[1, 2, 3, 4].map((i) => (\r\n            <div key={i} className=\"animate-pulse\">\r\n              <div className=\"bg-gray-200 aspect-square rounded-lg mb-3\"></div>\r\n              <div className=\"h-4 bg-gray-200 rounded mb-2\"></div>\r\n              <div className=\"h-4 bg-gray-200 rounded w-2/3\"></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (products.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-12\">\r\n      <h2 className=\"text-2xl font-bold mb-6\">S·∫£n ph·∫©m li√™n quan</h2>\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\r\n        {products.map((product) => (\r\n          <Link\r\n            key={product.id}\r\n            href={`/products/${product.id}`}\r\n            className=\"group bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden\"\r\n          >\r\n            <div className=\"relative aspect-square overflow-hidden\">\r\n              <Image\r\n                src={product.thumbnail_url || '/images/placeholder.jpg'}\r\n                alt={product.name}\r\n                fill\r\n                className=\"object-cover group-hover:scale-105 transition-transform duration-300\"\r\n              />\r\n              {product.stock_quantity === 0 && (\r\n                <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n                  <span className=\"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold\">\r\n                    H·∫øt h√†ng\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"p-4\">\r\n              <h3 className=\"font-semibold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors\">\r\n                {product.name}\r\n              </h3>\r\n              <p className=\"text-lg font-bold text-blue-600\">\r\n                {product.price.toLocaleString('vi-VN')}ƒë\r\n              </p>\r\n              {product.stock_quantity > 0 && product.stock_quantity < 10 && (\r\n                <p className=\"text-sm text-orange-600 mt-1\">\r\n                  Ch·ªâ c√≤n {product.stock_quantity} s·∫£n ph·∫©m\r\n                </p>\r\n              )}\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAee,SAAS,gBAAgB,EAAE,SAAS,EAAE,UAAU,EAA6C;IAC1G,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR;IACA,uDAAuD;IACzD,GAAG;QAAC;KAAW;IAEf,MAAM,sBAAsB;QAC1B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,4CAA4C,EAAE,WAAW,QAAQ,CAAC;YAChG,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,KAAK,OAAO,IAAI,KAAK,IAAI,EAAE;gBAC7B,2EAA2E;gBAC3E,MAAM,cAAc,KAAK,IAAI,CAAC,QAAQ,IAAI,KAAK,IAAI,IAAI,EAAE;gBACzD,2BAA2B;gBAC3B,MAAM,WAAW,YAAY,MAAM,CAAC,CAAC,IAAe,EAAE,EAAE,KAAK;gBAC7D,YAAY,SAAS,KAAK,CAAC,GAAG;YAChC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;8BACxC,8OAAC;oBAAI,WAAU;8BACZ;wBAAC;wBAAG;wBAAG;wBAAG;qBAAE,CAAC,GAAG,CAAC,CAAC,kBACjB,8OAAC;4BAAY,WAAU;;8CACrB,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAI,WAAU;;;;;;;2BAHP;;;;;;;;;;;;;;;;IASpB;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC,uKAAI;wBAEH,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;wBAC/B,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,wIAAK;wCACJ,KAAK,QAAQ,aAAa,IAAI;wCAC9B,KAAK,QAAQ,IAAI;wCACjB,IAAI;wCACJ,WAAU;;;;;;oCAEX,QAAQ,cAAc,KAAK,mBAC1B,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDAA2D;;;;;;;;;;;;;;;;;0CAMjF,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX,QAAQ,IAAI;;;;;;kDAEf,8OAAC;wCAAE,WAAU;;4CACV,QAAQ,KAAK,CAAC,cAAc,CAAC;4CAAS;;;;;;;oCAExC,QAAQ,cAAc,GAAG,KAAK,QAAQ,cAAc,GAAG,oBACtD,8OAAC;wCAAE,WAAU;;4CAA+B;4CACjC,QAAQ,cAAc;4CAAC;;;;;;;;;;;;;;uBA5BjC,QAAQ,EAAE;;;;;;;;;;;;;;;;AAqC3B","debugId":null}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":["file:///D:/XAMPP/htdocs/DUAN_TEST/web/src/components/ReturnPolicy.tsx"],"sourcesContent":["export default function ReturnPolicy() {\r\n  return (\r\n    <div className=\"mt-12 bg-white rounded-lg shadow-sm p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-6\">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</h2>\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* ƒêi·ªÅu ki·ªán ƒë·ªïi tr·∫£ */}\r\n        <div>\r\n          <h3 className=\"font-semibold text-lg mb-3 flex items-center gap-2\">\r\n            <span className=\"text-blue-600\">‚úì</span>\r\n            ƒêi·ªÅu ki·ªán ƒë·ªïi tr·∫£\r\n          </h3>\r\n          <ul className=\"space-y-2 text-gray-700 ml-6\">\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-600 mt-1\">‚Ä¢</span>\r\n              <span>S·∫£n ph·∫©m c√≤n nguy√™n tem m√°c, ch∆∞a qua s·ª≠ d·ª•ng</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-600 mt-1\">‚Ä¢</span>\r\n              <span>C√≤n ƒë·∫ßy ƒë·ªß h·ªôp, ph·ª• ki·ªán ƒëi k√®m</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-600 mt-1\">‚Ä¢</span>\r\n              <span>C√≥ h√≥a ƒë∆°n mua h√†ng t·ª´ Fishing Shop</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-blue-600 mt-1\">‚Ä¢</span>\r\n              <span>Kh√¥ng b·ªã tr·∫ßy x∆∞·ªõc, h∆∞ h·ªèng do ng∆∞·ªùi d√πng</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Th·ªùi gian ƒë·ªïi tr·∫£ */}\r\n        <div>\r\n          <h3 className=\"font-semibold text-lg mb-3 flex items-center gap-2\">\r\n            <span className=\"text-green-600\">‚è∞</span>\r\n            Th·ªùi gian ƒë·ªïi tr·∫£\r\n          </h3>\r\n          <ul className=\"space-y-2 text-gray-700 ml-6\">\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-green-600 mt-1\">‚Ä¢</span>\r\n              <span><strong>ƒê·ªïi h√†ng:</strong> Trong v√≤ng 7 ng√†y k·ªÉ t·ª´ ng√†y nh·∫≠n h√†ng</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-green-600 mt-1\">‚Ä¢</span>\r\n              <span><strong>Tr·∫£ h√†ng ho√†n ti·ªÅn:</strong> Trong v√≤ng 3 ng√†y k·ªÉ t·ª´ ng√†y nh·∫≠n h√†ng</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-green-600 mt-1\">‚Ä¢</span>\r\n              <span><strong>S·∫£n ph·∫©m l·ªói do nh√† s·∫£n xu·∫•t:</strong> ƒê·ªïi tr·∫£ trong v√≤ng 30 ng√†y</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Quy tr√¨nh ƒë·ªïi tr·∫£ */}\r\n        <div>\r\n          <h3 className=\"font-semibold text-lg mb-3 flex items-center gap-2\">\r\n            <span className=\"text-purple-600\">üìã</span>\r\n            Quy tr√¨nh ƒë·ªïi tr·∫£\r\n          </h3>\r\n          <div className=\"space-y-3 ml-6\">\r\n            <div className=\"flex gap-3\">\r\n              <div className=\"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-semibold\">\r\n                1\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">Li√™n h·ªá v·ªõi ch√∫ng t√¥i</p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  G·ªçi hotline 1900-xxxx ho·∫∑c g·ª≠i email v·ªÅ support@fishingshop.vn\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <div className=\"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-semibold\">\r\n                2\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">G·ª≠i s·∫£n ph·∫©m v·ªÅ shop</p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  ƒê√≥ng g√≥i c·∫©n th·∫≠n v√† g·ª≠i qua ƒë∆°n v·ªã v·∫≠n chuy·ªÉn\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <div className=\"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-semibold\">\r\n                3\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">Ki·ªÉm tra s·∫£n ph·∫©m</p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Ch√∫ng t√¥i s·∫Ω ki·ªÉm tra v√† x√°c nh·∫≠n trong v√≤ng 1-2 ng√†y l√†m vi·ªác\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <div className=\"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-semibold\">\r\n                4\r\n              </div>\r\n              <div>\r\n                <p className=\"font-medium\">ƒê·ªïi h√†ng ho·∫∑c ho√†n ti·ªÅn</p>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  G·ª≠i s·∫£n ph·∫©m m·ªõi ho·∫∑c ho√†n ti·ªÅn trong 3-5 ng√†y l√†m vi·ªác\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chi ph√≠ ƒë·ªïi tr·∫£ */}\r\n        <div>\r\n          <h3 className=\"font-semibold text-lg mb-3 flex items-center gap-2\">\r\n            <span className=\"text-orange-600\">üí∞</span>\r\n            Chi ph√≠ ƒë·ªïi tr·∫£\r\n          </h3>\r\n          <ul className=\"space-y-2 text-gray-700 ml-6\">\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-orange-600 mt-1\">‚Ä¢</span>\r\n              <span><strong>L·ªói do nh√† s·∫£n xu·∫•t:</strong> Fishing Shop ch·ªãu to√†n b·ªô chi ph√≠</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-orange-600 mt-1\">‚Ä¢</span>\r\n              <span><strong>ƒê·ªïi size/m√†u:</strong> Kh√°ch h√†ng ch·ªãu ph√≠ v·∫≠n chuy·ªÉn 2 chi·ªÅu</span>\r\n            </li>\r\n            <li className=\"flex items-start gap-2\">\r\n              <span className=\"text-orange-600 mt-1\">‚Ä¢</span>\r\n              <span><strong>ƒê·ªïi √Ω kh√¥ng mu·ªën mua:</strong> Kh√°ch h√†ng ch·ªãu ph√≠ v·∫≠n chuy·ªÉn + 10% ph√≠ x·ª≠ l√Ω</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* L∆∞u √Ω */}\r\n        <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded\">\r\n          <h3 className=\"font-semibold text-lg mb-2 flex items-center gap-2\">\r\n            <span>‚ö†Ô∏è</span>\r\n            L∆∞u √Ω quan tr·ªçng\r\n          </h3>\r\n          <ul className=\"space-y-1 text-sm text-gray-700\">\r\n            <li>‚Ä¢ Kh√¥ng √°p d·ª•ng ƒë·ªïi tr·∫£ v·ªõi s·∫£n ph·∫©m ƒëang khuy·∫øn m√£i/gi·∫£m gi√° s√¢u</li>\r\n            <li>‚Ä¢ S·∫£n ph·∫©m ƒë√£ qua s·ª≠ d·ª•ng ho·∫∑c h∆∞ h·ªèng do ng∆∞·ªùi d√πng s·∫Ω kh√¥ng ƒë∆∞·ª£c ƒë·ªïi tr·∫£</li>\r\n            <li>‚Ä¢ Vui l√≤ng quay video m·ªü h·ªôp ƒë·ªÉ l√†m b·∫±ng ch·ª©ng khi s·∫£n ph·∫©m c√≥ v·∫•n ƒë·ªÅ</li>\r\n          </ul>\r\n        </div>\r\n\r\n        {/* Contact */}\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6\">\r\n          <h3 className=\"font-semibold mb-2\">C·∫ßn h·ªó tr·ª£?</h3>\r\n          <div className=\"space-y-1 text-sm text-gray-700\">\r\n            <p>üìû Hotline: <strong className=\"text-blue-600\">1900-xxxx</strong> (8:00 - 21:00)</p>\r\n            <p>‚úâÔ∏è Email: <strong className=\"text-blue-600\">support@fishingshop.vn</strong></p>\r\n            <p>üìç ƒê·ªãa ch·ªâ: Tr√† Vinh, Ph∆∞·ªùng 6, Th√†nh ph·ªë Tr√† Vinh</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1548, "column": 0}, "map": {"version":3,"sources":["file:///D:/XAMPP/htdocs/DUAN_TEST/web/src/app/products/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { ShoppingCart, Heart, Truck, Shield, RotateCcw, Star, Minus, Plus } from \"lucide-react\";\r\nimport { useCart } from \"@/hooks/useCart\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport ReviewSection from \"@/components/ReviewSection\";\r\nimport RelatedProducts from \"@/components/RelatedProducts\";\r\nimport ReturnPolicy from \"@/components/ReturnPolicy\";\r\n\r\ninterface ProductImage {\r\n  id: number;\r\n  image_url: string;\r\n  alt_text?: string;\r\n  is_primary: boolean;\r\n}\r\n\r\ninterface Product {\r\n  id: number;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  sku: string;\r\n  stock_quantity: number;\r\n  category_id: number;\r\n  category_name?: string;\r\n  thumbnail_url?: string;\r\n  images?: ProductImage[];\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\ninterface ReviewStats {\r\n  average_rating: number;\r\n  total_reviews: number;\r\n}\r\n\r\nexport default function ProductDetailPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const { addItem } = useCart();\r\n  const { isAuthenticated } = useAuth();\r\n  \r\n  const [product, setProduct] = useState<Product | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [addingToCart, setAddingToCart] = useState(false);\r\n  const [inWishlist, setInWishlist] = useState(false);\r\n  const [togglingWishlist, setTogglingWishlist] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'info' | 'reviews' | 'policy'>('info');\r\n  const [reviewStats, setReviewStats] = useState<ReviewStats | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:4000/api/products/${params.id}`);\r\n        const data = await response.json();\r\n        \r\n        if (data.success) {\r\n          setProduct(data.data);\r\n        } else {\r\n          console.error(\"Failed to load product\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching product:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (params.id) {\r\n      fetchProduct();\r\n      fetchReviewStats();\r\n    }\r\n  }, [params.id]);\r\n\r\n  const fetchReviewStats = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:4000/api/reviews/product/${params.id}`);\r\n      const data = await response.json();\r\n      if (data.success && data.data.stats) {\r\n        setReviewStats(data.data.stats);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching review stats:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Ki·ªÉm tra s·∫£n ph·∫©m c√≥ trong wishlist kh√¥ng\r\n    const checkWishlist = async () => {\r\n      if (!isAuthenticated || !product) return;\r\n      \r\n      try {\r\n        const token = localStorage.getItem('accessToken');\r\n        const response = await fetch(`http://localhost:4000/api/wishlist/check/${product.id}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n        const data = await response.json();\r\n        if (data.success) {\r\n          setInWishlist(data.data.in_wishlist);\r\n        }\r\n      } catch (error) {\r\n        console.error('L·ªói ki·ªÉm tra wishlist:', error);\r\n      }\r\n    };\r\n\r\n    checkWishlist();\r\n  }, [product, isAuthenticated]);\r\n\r\n  const toggleWishlist = async () => {\r\n    if (!isAuthenticated) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    if (!product) return;\r\n\r\n    setTogglingWishlist(true);\r\n    try {\r\n      const token = localStorage.getItem('accessToken');\r\n      const url = inWishlist\r\n        ? `http://localhost:4000/api/wishlist/${product.id}`\r\n        : 'http://localhost:4000/api/wishlist';\r\n      \r\n      const response = await fetch(url, {\r\n        method: inWishlist ? 'DELETE' : 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: inWishlist ? undefined : JSON.stringify({ product_id: product.id }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.success) {\r\n        setInWishlist(!inWishlist);\r\n      } else {\r\n        alert(data.message || 'C√≥ l·ªói x·∫£y ra');\r\n      }\r\n    } catch (error) {\r\n      console.error('L·ªói toggle wishlist:', error);\r\n      alert('C√≥ l·ªói x·∫£y ra');\r\n    } finally {\r\n      setTogglingWishlist(false);\r\n    }\r\n  };\r\n\r\n  const handleAddToCart = async () => {\r\n    if (!isAuthenticated) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    if (!product) return;\r\n\r\n    setAddingToCart(true);\r\n    try {\r\n      await addItem(product.id, quantity);\r\n      alert(\"ƒê√£ th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng!\");\r\n    } catch (error) {\r\n      console.error(\"Error adding to cart:\", error);\r\n      alert(\"Kh√¥ng th·ªÉ th√™m v√†o gi·ªè h√†ng. Vui l√≤ng th·ª≠ l·∫°i.\");\r\n    } finally {\r\n      setAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  const handleQuantityChange = (delta: number) => {\r\n    const newQuantity = quantity + delta;\r\n    if (newQuantity >= 1 && newQuantity <= (product?.stock_quantity || 0)) {\r\n      setQuantity(newQuantity);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-4\">Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m</h2>\r\n          <button\r\n            onClick={() => router.push(\"/products\")}\r\n            className=\"text-primary-600 hover:text-primary-700\"\r\n          >\r\n            Quay l·∫°i danh s√°ch s·∫£n ph·∫©m\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const displayPrice = product.price;\r\n  const hasDiscount = false;\r\n  const discountPercentage = 0;\r\n\r\n  const productImages = product.images && product.images.length > 0\r\n    ? product.images\r\n    : [{ id: 0, image_url: \"/images/products/placeholder.jpg\", is_primary: true }];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        {/* Breadcrumb */}\r\n        <nav className=\"text-sm text-gray-600 mb-6\">\r\n          <a href=\"/\" className=\"hover:text-primary-600\">Trang ch·ªß</a>\r\n          <span className=\"mx-2\">/</span>\r\n          <a href=\"/products\" className=\"hover:text-primary-600\">S·∫£n ph·∫©m</a>\r\n          <span className=\"mx-2\">/</span>\r\n          <span className=\"text-gray-900\">{product.name}</span>\r\n        </nav>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\r\n          <div className=\"grid md:grid-cols-2 gap-8 p-8\">\r\n            {/* Image Gallery */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"relative aspect-square bg-gray-100 rounded-lg overflow-hidden\">\r\n                <img\r\n                  src={productImages[selectedImage]?.image_url || productImages[0].image_url}\r\n                  alt={productImages[selectedImage]?.alt_text || product.name}\r\n                  className=\"w-full h-full object-cover\"\r\n                  onError={(e) => {\r\n                    (e.target as HTMLImageElement).src = \"/images/products/placeholder.jpg\";\r\n                  }}\r\n                />\r\n                {hasDiscount && (\r\n                  <div className=\"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold\">\r\n                    -{discountPercentage}%\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Thumbnail Gallery */}\r\n              {productImages.length > 1 && (\r\n                <div className=\"grid grid-cols-5 gap-2\">\r\n                  {productImages.map((image, index) => (\r\n                    <button\r\n                      key={image.id || index}\r\n                      onClick={() => setSelectedImage(index)}\r\n                      className={`relative aspect-square rounded-lg overflow-hidden border-2 transition-all ${\r\n                        selectedImage === index\r\n                          ? \"border-primary-600\"\r\n                          : \"border-gray-200 hover:border-gray-300\"\r\n                      }`}\r\n                    >\r\n                      <img\r\n                        src={image.image_url}\r\n                        alt={image.alt_text || `${product.name} - ${index + 1}`}\r\n                        className=\"w-full h-full object-cover\"\r\n                        onError={(e) => {\r\n                          (e.target as HTMLImageElement).src = \"/images/products/placeholder.jpg\";\r\n                        }}\r\n                      />\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Product Info */}\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-2\">\r\n                  <span className=\"text-primary-600 font-medium\">{product.category_name || \"S·∫£n ph·∫©m\"}</span>\r\n                  <span>‚Ä¢</span>\r\n                  <span>SKU: {product.sku}</span>\r\n                </div>\r\n                <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">{product.name}</h1>\r\n                \r\n                {/* Rating */}\r\n                {reviewStats && reviewStats.total_reviews > 0 && (\r\n                  <div className=\"flex items-center gap-2 mb-4\">\r\n                    <div className=\"flex\">\r\n                      {[1, 2, 3, 4, 5].map((star) => (\r\n                        <Star \r\n                          key={star} \r\n                          className={`w-5 h-5 ${\r\n                            star <= Math.round(reviewStats.average_rating)\r\n                              ? 'fill-yellow-400 text-yellow-400'\r\n                              : 'fill-gray-200 text-gray-200'\r\n                          }`}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      ({Number(reviewStats.average_rating || 0).toFixed(1)} - {reviewStats.total_reviews} ƒë√°nh gi√°)\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Price */}\r\n              <div className=\"border-t border-b border-gray-200 py-6\">\r\n                <div className=\"flex items-baseline gap-3\">\r\n                  <span className=\"text-4xl font-bold text-primary-600\">\r\n                    {displayPrice.toLocaleString(\"vi-VN\")}‚Ç´\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Description */}\r\n              <div>\r\n                <h3 className=\"font-semibold text-gray-900 mb-2\">M√¥ t·∫£ s·∫£n ph·∫©m:</h3>\r\n                <p className=\"text-gray-600 leading-relaxed\">{product.description}</p>\r\n              </div>\r\n\r\n              {/* Stock Status */}\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"font-medium text-gray-900\">T√¨nh tr·∫°ng:</span>\r\n                {product.stock_quantity > 0 ? (\r\n                  <span className=\"text-green-600 font-medium\">\r\n                    C√≤n h√†ng ({product.stock_quantity} s·∫£n ph·∫©m)\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"text-red-600 font-medium\">H·∫øt h√†ng</span>\r\n                )}\r\n              </div>\r\n\r\n              {/* Quantity Selector */}\r\n              {product.stock_quantity > 0 && (\r\n                <div>\r\n                  <label className=\"block font-medium text-gray-900 mb-2\">S·ªë l∆∞·ª£ng:</label>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <button\r\n                      onClick={() => handleQuantityChange(-1)}\r\n                      disabled={quantity <= 1}\r\n                      className=\"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                    >\r\n                      <Minus className=\"w-4 h-4\" />\r\n                    </button>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={quantity}\r\n                      onChange={(e) => {\r\n                        const val = parseInt(e.target.value);\r\n                        if (val >= 1 && val <= product.stock_quantity) {\r\n                          setQuantity(val);\r\n                        }\r\n                      }}\r\n                      className=\"w-20 h-10 text-center border border-gray-300 rounded-lg font-medium\"\r\n                      min=\"1\"\r\n                      max={product.stock_quantity}\r\n                    />\r\n                    <button\r\n                      onClick={() => handleQuantityChange(1)}\r\n                      disabled={quantity >= product.stock_quantity}\r\n                      className=\"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                    >\r\n                      <Plus className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Action Buttons */}\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={handleAddToCart}\r\n                  disabled={product.stock_quantity === 0 || addingToCart}\r\n                  className=\"flex-1 bg-primary-600 text-white py-4 rounded-lg font-semibold hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\r\n                >\r\n                  <ShoppingCart className=\"w-5 h-5\" />\r\n                  {addingToCart ? \"ƒêang th√™m...\" : \"Th√™m v√†o gi·ªè h√†ng\"}\r\n                </button>\r\n                <button\r\n                  onClick={toggleWishlist}\r\n                  disabled={togglingWishlist}\r\n                  className={`w-14 h-14 rounded-lg border-2 flex items-center justify-center transition-all ${\r\n                    inWishlist\r\n                      ? 'bg-red-50 border-red-500 text-red-500'\r\n                      : 'border-gray-300 hover:border-primary-600 hover:text-primary-600'\r\n                  } disabled:opacity-50`}\r\n                  title={inWishlist ? 'B·ªè y√™u th√≠ch' : 'Th√™m v√†o y√™u th√≠ch'}\r\n                >\r\n                  <Heart className={`w-6 h-6 ${inWishlist ? 'fill-current' : ''}`} />\r\n                </button>\r\n              </div>\r\n\r\n              {/* Features */}\r\n              <div className=\"grid grid-cols-3 gap-4 pt-6 border-t border-gray-200\">\r\n                <div className=\"flex flex-col items-center text-center gap-2\">\r\n                  <div className=\"w-12 h-12 rounded-full bg-primary-50 flex items-center justify-center\">\r\n                    <Truck className=\"w-6 h-6 text-primary-600\" />\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn</p>\r\n                    <p className=\"text-xs text-gray-500\">ƒê∆°n t·ª´ 500k</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col items-center text-center gap-2\">\r\n                  <div className=\"w-12 h-12 rounded-full bg-primary-50 flex items-center justify-center\">\r\n                    <Shield className=\"w-6 h-6 text-primary-600\" />\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">B·∫£o h√†nh ch√≠nh h√£ng</p>\r\n                    <p className=\"text-xs text-gray-500\">12 th√°ng</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col items-center text-center gap-2\">\r\n                  <div className=\"w-12 h-12 rounded-full bg-primary-50 flex items-center justify-center\">\r\n                    <RotateCcw className=\"w-6 h-6 text-primary-600\" />\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">ƒê·ªïi tr·∫£ d·ªÖ d√†ng</p>\r\n                    <p className=\"text-xs text-gray-500\">Trong 7 ng√†y</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Additional Information Tabs */}\r\n        <div className=\"mt-8 bg-white rounded-lg shadow-lg p-8\">\r\n          <div className=\"border-b border-gray-200 mb-6\">\r\n            <nav className=\"flex gap-8\">\r\n              <button \r\n                onClick={() => setActiveTab('info')}\r\n                className={`pb-4 px-2 border-b-2 font-semibold transition-colors ${\r\n                  activeTab === 'info'\r\n                    ? 'border-primary-600 text-primary-600'\r\n                    : 'border-transparent text-gray-600 hover:text-gray-900'\r\n                }`}\r\n              >\r\n                Th√¥ng tin chi ti·∫øt\r\n              </button>\r\n              <button \r\n                onClick={() => setActiveTab('reviews')}\r\n                className={`pb-4 px-2 border-b-2 font-semibold transition-colors ${\r\n                  activeTab === 'reviews'\r\n                    ? 'border-primary-600 text-primary-600'\r\n                    : 'border-transparent text-gray-600 hover:text-gray-900'\r\n                }`}\r\n              >\r\n                ƒê√°nh gi√° ({reviewStats?.total_reviews || 0})\r\n              </button>\r\n              <button \r\n                onClick={() => setActiveTab('policy')}\r\n                className={`pb-4 px-2 border-b-2 font-semibold transition-colors ${\r\n                  activeTab === 'policy'\r\n                    ? 'border-primary-600 text-primary-600'\r\n                    : 'border-transparent text-gray-600 hover:text-gray-900'\r\n                }`}\r\n              >\r\n                Ch√≠nh s√°ch ƒë·ªïi tr·∫£\r\n              </button>\r\n            </nav>\r\n          </div>\r\n\r\n          {/* Tab: Th√¥ng tin chi ti·∫øt */}\r\n          {activeTab === 'info' && (\r\n            <div className=\"prose max-w-none\">\r\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4\">Th√¥ng tin s·∫£n ph·∫©m</h3>\r\n              <div className=\"grid md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex py-2 border-b border-gray-100\">\r\n                    <span className=\"w-40 text-gray-600\">Danh m·ª•c:</span>\r\n                    <span className=\"font-medium text-gray-900\">{product.category_name || \"Ch∆∞a ph√¢n lo·∫°i\"}</span>\r\n                  </div>\r\n                  <div className=\"flex py-2 border-b border-gray-100\">\r\n                    <span className=\"w-40 text-gray-600\">M√£ s·∫£n ph·∫©m:</span>\r\n                    <span className=\"font-medium text-gray-900\">{product.sku}</span>\r\n                  </div>\r\n                  <div className=\"flex py-2 border-b border-gray-100\">\r\n                    <span className=\"w-40 text-gray-600\">T·ªìn kho:</span>\r\n                    <span className=\"font-medium text-gray-900\">{product.stock_quantity} s·∫£n ph·∫©m</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex py-2 border-b border-gray-100\">\r\n                    <span className=\"w-40 text-gray-600\">Th∆∞∆°ng hi·ªáu:</span>\r\n                    <span className=\"font-medium text-gray-900\">Ch√≠nh h√£ng</span>\r\n                  </div>\r\n                  <div className=\"flex py-2 border-b border-gray-100\">\r\n                    <span className=\"w-40 text-gray-600\">B·∫£o h√†nh:</span>\r\n                    <span className=\"font-medium text-gray-900\">12 th√°ng</span>\r\n                  </div>\r\n                  <div className=\"flex py-2 border-b border-gray-100\">\r\n                    <span className=\"w-40 text-gray-600\">Xu·∫•t x·ª©:</span>\r\n                    <span className=\"font-medium text-gray-900\">Nh·∫≠t B·∫£n</span>\r\n                  </div>\r\n                  <div className=\"flex py-2 border-b border-gray-100\">\r\n                    <span className=\"w-40 text-gray-600\">ƒê√°nh gi√°:</span>\r\n                    <span className=\"font-medium text-gray-900\">\r\n                      {reviewStats && reviewStats.total_reviews > 0 \r\n                        ? `${Number(reviewStats.average_rating || 0).toFixed(1)} ‚≠ê (${reviewStats.total_reviews} ng∆∞·ªùi)` \r\n                        : 'Ch∆∞a c√≥ ƒë√°nh gi√°'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-8\">\r\n                <h4 className=\"text-lg font-bold text-gray-900 mb-3\">M√¥ t·∫£ chi ti·∫øt</h4>\r\n                <p className=\"text-gray-600 leading-relaxed mb-4\">{product.description}</p>\r\n                <ul className=\"list-disc list-inside space-y-2 text-gray-600\">\r\n                  <li>Ch·∫•t li·ªáu cao c·∫•p, b·ªÅn b·ªâ theo th·ªùi gian</li>\r\n                  <li>Thi·∫øt k·∫ø hi·ªán ƒë·∫°i, ti·ªán l·ª£i s·ª≠ d·ª•ng</li>\r\n                  <li>Ph√π h·ª£p cho c·∫£ ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu v√† chuy√™n nghi·ªáp</li>\r\n                  <li>ƒê·∫°t ti√™u chu·∫©n ch·∫•t l∆∞·ª£ng qu·ªëc t·∫ø</li>\r\n                  <li>H·ªó tr·ª£ k·ªπ thu·∫≠t v√† b·∫£o h√†nh t·∫≠n t√¢m</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Tab: ƒê√°nh gi√° */}\r\n          {activeTab === 'reviews' && (\r\n            <ReviewSection productId={product.id} />\r\n          )}\r\n\r\n          {/* Tab: Ch√≠nh s√°ch ƒë·ªïi tr·∫£ */}\r\n          {activeTab === 'policy' && (\r\n            <ReturnPolicy />\r\n          )}\r\n        </div>\r\n\r\n        {/* Related Products Section */}\r\n        <RelatedProducts productId={product.id} categoryId={product.category_id} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}